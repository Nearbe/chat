# –ê–Ω–∞–ª–∏–∑ Performance Engineer

**–î–∞—Ç–∞:** 24 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–û—Ü–µ–Ω–∫–∞:** 5/10

---

## –†–µ–∑—é–º–µ

–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SwiftData –µ—Å—Ç—å, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: –∏–Ω–¥–µ–∫—Å—ã, –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–∞–≥–∏–Ω–∞—Ü–∏—è.

---

## –û—Ü–µ–Ω–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è             | –û—Ü–µ–Ω–∫–∞ |
|-----------------------|--------|
| SwiftData Performance | 5/10   |
| Memory Usage          | 6/10   |
| Profiling Readiness   | 4/10   |

---

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤

**Message.swift:**

```swift
// –ù–ï–¢ –ò–ù–î–ï–ö–°–û–í! SwiftData –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å full scan
var index: Int           // –ù–µ—Ç @Attribute(.spotlight)
var sessionId: UUID      // –ù–µ—Ç @Attribute(.spotlight)
var role: String         // –ù–µ—Ç @Attribute(.spotlight)
var createdAt: Date      // –ù–µ—Ç @Attribute(.spotlight)
```

**ChatSession.swift:**

```swift
var createdAt: Date      // –ù–µ—Ç @Attribute(.spotlight)
var updatedAt: Date      // –ù–µ—Ç @Attribute(.spotlight)
var title: String        // –ù–µ—Ç @Attribute(.spotlight)
```

### 2. –í—ã—á–∏—Å–ª—è–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –±–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

```swift
var sortedMessages: [Message] {
    messages.sorted { $0.index < $1.index }  // O(n log n) –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏!
}
```

### 3. –ß–∞—Å—Ç—ã–µ save()

ChatSessionManager.save() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏, —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ I/O.

---

## üü¢ –•–æ—Ä–æ—à–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- [weak self] –≤ Task –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è retain cycle

---

## üü° –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–∞–º—è—Ç–∏

1. –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞ ChatSession ‚Üî Message
2. –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π —Å–µ—Å—Å–∏–∏ –≤ _currentSession
3. sortedMessages –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## –ü–ª–∞–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

| –ó–∞–¥–∞—á–∞                            | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç  |
|-----------------------------------|------------|
| –î–æ–±–∞–≤–∏—Ç—å @Attribute(.spotlight)   | üî¥ –í—ã—Å–æ–∫–∏–π |
| –ó–∞–º–µ–Ω–∏—Ç—å sortedMessages –Ω–∞ @Query | üî¥ –í—ã—Å–æ–∫–∏–π |
| Debounced save()                  | üü† –°—Ä–µ–¥–Ω–∏–π |
| –î–æ–±–∞–≤–∏—Ç—å os.signpost              | üü† –°—Ä–µ–¥–Ω–∏–π |
| –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π               | üü† –°—Ä–µ–¥–Ω–∏–π |

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–∏ —Ä–æ—Å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∑–∫–æ —É–ø–∞–¥—ë—Ç. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—á–∞—Ç—å —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤.
