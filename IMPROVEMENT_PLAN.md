# План улучшения проекта Chat

Этот файл содержит детальный список шагов по внедрению новых инструментов, систем и архитектурных улучшений в проект.

## 1. Качество кода и стандарты (Developer Experience)
- [x] **Внедрение SwiftLint**
    - [x] Создать файл конфигурации `.swiftlint.yml` с правилами, подходящими для SwiftUI проекта.
    - [x] Обновить `project.yml`, добавив Build Phase для запуска SwiftLint при сборке.
    - [ ] Исправить критические замечания линтера в существующем коде.
- [x] **Настройка SwiftGen**
    - [x] Создать `swiftgen.yml`.
    - [x] Настроить генерацию кода для `Assets.xcassets` (цвета, иконки).
    - [ ] Заменить строковые литералы в `AppColors` и других местах на сгенерированные константы.

## 2. Стабильность и тестирование
- [x] **Добавление Unit и UI тестов**
    - [x] Обновить `project.yml`, добавив таргеты `ChatTests` и `ChatUITests`.
    - [x] Запустить `setup.sh` для перегенерации проекта Xcode.
    - [x] Написать Unit-тесты для `SSEParser` (парсинг потока ответов).
    - [ ] Написать Unit-тесты для `HTTPClient` и `NetworkService` (используя моки).
    - [x] Написать базовый UI-тест для проверки запуска приложения.

## 3. Архитектура и инфраструктура
- [x] **Внедрение Dependency Injection (Factory)**
    - [x] Добавить библиотеку Factory в зависимости (через `project.yml` / SPM).
    - [x] Создать `Container+Registrations.swift` для регистрации сервисов (`ChatService`, `NetworkMonitor`, и т.д.).
    - [x] Рефакторинг `ChatApp.swift` и ViewModels для использования `@Injected`.
- [x] **Система логирования (Pulse)**
    - [x] Интегрировать `Pulse` и `PulseUI` для мониторинга сетевой активности.
    - [x] Добавить логгирование всех запросов в `HTTPClient`.
    - [x] Добавить скрытый жест или кнопку в настройках для вызова консоли Pulse. (Двойной тап по заголовку)

## 4. Локализация и документация
- [x] **Переход на String Catalogs (.stringcatalog)**
    - [x] Создать основной каталог строк.
    - [x] Локализовать интерфейс на английский и русский языки.
- [ ] **Генерация документации DocC**
    - [ ] Настроить экспорт документации.
    - [ ] Убедиться, что все публичные интерфейсы имеют корректные Docstrings.

## 5. Функциональные улучшения (UX)
- [x] **Полнотекстовый поиск**
    - [x] Реализовать поиск по сообщениям в `HistoryView` с использованием предикатов SwiftData. (Реализовано через фильтрацию массива)
- [x] **Экспорт диалогов**
    - [x] Добавить возможность экспорта текущей сессии в Markdown файл.

---
*План выполняется последовательно. Каждый пункт требует верификации.*
