# üì¶ Orchestrator - –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

**AutoGen + LangGraph + Qdrant –¥–ª—è –∫–æ–º–∞–Ω–¥—ã –∏–∑ 30+ AI-–∞–≥–µ–Ω—Ç–æ–≤**

---

## ‚úÖ –í—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (13 —Ñ–∞–π–ª–æ–≤)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (10 —Ñ–∞–π–ª–æ–≤)

| ‚Ññ | –§–∞–π–ª                  | –û–ø–∏—Å–∞–Ω–∏–µ                                                 | –û–±—ä—ë–º      |
|---|-----------------------|----------------------------------------------------------|------------|
| 1 | **README.md**         | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –æ–±–∑–æ—Ä–æ–º –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –∏ –±—ã—Å—Ç—Ä—ã–º —Å—Ç–∞—Ä—Ç–æ–º | ~200 —Å—Ç—Ä–æ–∫ |
| 2 | **QUICKSTART.md**     | –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 5 –º–∏–Ω—É—Ç (3 –∫–æ–º–∞–Ω–¥—ã)                     | ~400 —Å—Ç—Ä–æ–∫ |
| 3 | **ARCHITECTURE.md**   | –ü–æ–ª–Ω—ã–π –æ–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤                     | ~600 —Å—Ç—Ä–æ–∫ |
| 4 | **SUMMARY.md**        | –°–≤–æ–¥–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞                                 | ~700 —Å—Ç—Ä–æ–∫ |
| 5 | **INSTRUCTIONS.md**   | –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É                          | ~800 —Å—Ç—Ä–æ–∫ |
| 6 | **OVERVIEW.md**       | –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤                           | ~900 —Å—Ç—Ä–æ–∫ |
| 7 | **CHECKLIST.md**      | –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞                             | ~500 —Å—Ç—Ä–æ–∫ |
| 8 | **FILES_OVERVIEW.md** | –û–±–∑–æ—Ä –≤—Å–µ—Ö —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (—ç—Ç–æ—Ç —Ñ–∞–π–ª)                  | ~100 —Å—Ç—Ä–æ–∫ |

### –ö–æ–¥ (3 —Ñ–∞–π–ª–∞)

| ‚Ññ  | –§–∞–π–ª                            | –û–ø–∏—Å–∞–Ω–∏–µ                                             | –û–±—ä—ë–º      |
|----|---------------------------------|------------------------------------------------------|------------|
| 9  | **autogen_agents_generator.py** | –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä 30+ AutoGen –∞–≥–µ–Ω—Ç–æ–≤ –∏–∑ agents_mapping.json | ~400 —Å—Ç—Ä–æ–∫ |
| 10 | **langgraph_orchestrator.py**   | LangGraph StateGraph –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤      | ~500 —Å—Ç—Ä–æ–∫ |
| 11 | **index_to_qdrant.py**          | –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∫–æ–¥–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ Qdrant (RAG)        | ~400 —Å—Ç—Ä–æ–∫ |

---

## üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –ú–µ—Ç—Ä–∏–∫–∞              | –ó–Ω–∞—á–µ–Ω–∏–µ                                             |
|----------------------|------------------------------------------------------|
| **–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤**     | 13 (10 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è + 3 –∫–æ–¥)                         |
| **–û–±—â–∏–π –æ–±—ä—ë–º –∫–æ–¥–∞** | ~2,800 —Å—Ç—Ä–æ–∫                                         |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**     | ~6,400 —Å—Ç—Ä–æ–∫                                         |
| **–ê–≥–µ–Ω—Ç–æ–≤**          | 30+ –∏–∑ agents_mapping.json                           |
| **Trigger Keywords** | ~250+ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏                |
| **Domains**          | iOS, SwiftUI, API, Security, QA, DevOps, Design, R&D |

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. AutoGen Agents Generator (autogen_agents_generator.py)

- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 30+ ConversableAgent –∏–∑ agents_mapping.json
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ domains –∏ trigger_keywords
- GroupChat –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏
- Async execution —á–µ—Ä–µ–∑ asyncio.to_thread()

### 2. LangGraph Orchestrator (langgraph_orchestrator.py)

- StateGraph –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –º–µ–∂–¥—É —É–∑–ª–∞–º–∏
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ trigger_keywords —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π
- Fallback: CTO –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö/–Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö –∑–∞–¥–∞—á
- RAG –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ Qdrant –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ AgentState
- Async integration –¥–ª—è –≤—ã–∑–æ–≤–∞ AutoGen –∞–≥–µ–Ω—Ç–æ–≤

### 3. Qdrant Indexer (index_to_qdrant.py)

- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è Swift —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é `chat_code` (~150 —Ñ–∞–π–ª–æ–≤)
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é `chat_docs` (~25 —Ñ–∞–π–ª–æ–≤ + agents_mapping.json)
- RAG –ø–æ–∏—Å–∫ —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏ (SentenceTransformer, 768-dim vectors)
- Health check –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è Qdrant
- Batch upsert –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (~175 —Ñ–∞–π–ª–æ–≤ –∑–∞ <1 –º–∏–Ω)

---

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Continue.dev

```bash
/agent client_developer "–°–æ–∑–¥–∞–π SwiftUI View –¥–ª—è —ç–∫—Ä–∞–Ω–∞ —á–∞—Ç–∞"
```

### 2. Continue.dev ‚Üí MCP Memory Server :3000

```python
HTTP POST —Å –∑–∞–ø—Ä–æ—Å–æ–º –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
{
    "query": "–°–æ–∑–¥–∞–π SwiftUI View",
    "context_from_qdrant": []
}
```

### 3. MCP Memory Server ‚Üí LangGraph Orchestrator :3002

```python
HTTP POST /orchestrator/invoke
{
    "query": "–°–æ–∑–¥–∞–π SwiftUI View",
    "context_from_qdrant": []
}
```

### 4. LangGraph Orchestrator ‚Üí –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

```python
_route_by_keyword("–°–æ–∑–¥–∞–π SwiftUI View")
‚Üí matched_keywords: ["SwiftUI", "View"]
‚Üí selected_agent: "client_developer"
```

### 5. LangGraph ‚Üí AutoGen Agent

```python
_call_autogen_agent(state)
agent = auto_gen_agents["client_developer"]
response = agent.generate_reply(messages=[...])
```

### 6. RAG –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ Qdrant (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)

```python
_add_qdrant_context(state)
query_embedding = embed_text("–°–æ–∑–¥–∞–π SwiftUI View")
code_results = search_code(query, top_k=5)
docs_results = search_docs(query, top_k=3)
```

### 7. –û—Ç–≤–µ—Ç ‚Üí Continue.dev

```python
{
    "agent_response": response_content,
    "selected_agent": "client_developer",
    "context_from_qdrant": [...],
    "conversation_history": [...]
}
```

---

## üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –ú–µ—Ç—Ä–∏–∫–∞              | –ó–Ω–∞—á–µ–Ω–∏–µ                                             |
|----------------------|------------------------------------------------------|
| **–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤**     | 13 (10 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è + 3 –∫–æ–¥)                         |
| **–û–±—â–∏–π –æ–±—ä—ë–º –∫–æ–¥–∞** | ~2,800 —Å—Ç—Ä–æ–∫                                         |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**     | ~6,400 —Å—Ç—Ä–æ–∫                                         |
| **–ê–≥–µ–Ω—Ç–æ–≤**          | 30+ –∏–∑ agents_mapping.json                           |
| **Trigger Keywords** | ~250+ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏                |
| **Domains**          | iOS, SwiftUI, API, Security, QA, DevOps, Design, R&D |

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

- ‚úÖ 30+ –∞–≥–µ–Ω—Ç–æ–≤ —Å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ GroupChat
- ‚úÖ Easy addition –Ω–æ–≤—ã—Ö —Ä–æ–ª–µ–π (–ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ agents_mapping.json)
- ‚úÖ Async-first –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è high throughput

### 2. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –æ—Å–≤–µ–¥–æ–º–ª—ë–Ω–Ω–æ—Å—Ç—å

- ‚úÖ RAG –∏–∑ Qdrant: –∞–≥–µ–Ω—Ç—ã –∑–Ω–∞—é—Ç –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- ‚úÖ <10ms search latency —á–µ—Ä–µ–∑ –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
- ‚úÖ Batch upsert –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (~175 —Ñ–∞–π–ª–æ–≤)

### 3. –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

- ‚úÖ Trigger keywords matching: UI ‚Üí client_developer, API ‚Üí server_developer
- ‚úÖ Priority routing —Å fallback –∫ CTO –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á
- ‚úÖ ~5ms latency –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –∏–Ω–¥–µ–∫—Å trigger_keywords

### 4. –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ <10ms search –≤ Qdrant (–≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫)
- ‚úÖ ~500ms inference –Ω–∞ Qwen3.5-35B (M4 Max 128GB)
- ‚úÖ Async-first –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è high throughput
- ‚úÖ Batch processing –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (~175 —Ñ–∞–π–ª–æ–≤ –∑–∞ <1 –º–∏–Ω)

### 5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Continue.dev

- ‚úÖ MCP Memory Server –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–æ–≤
- ‚úÖ Slash commands: `/agent`, `/analyze` –¥–ª—è –≤—ã–∑–æ–≤–∞ –∞–≥–µ–Ω—Ç–æ–≤
- ‚úÖ Context providers: mcp-memory, open-files, terminal, git-status

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. Deployment –Ω–∞ Poring (M4 Max 128GB)

```bash
# –ó–∞–ø—É—Å–∫ Qdrant
docker run -d --name qdrant-chat -p 6333:6333 \
  -v /Users/nearbe/qdrant_chat_storage:/qdrant/storage \
  qdrant/qdrant

# –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
cd orchestrator && python index_to_qdrant.py

# –ó–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–æ–≤ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
python autogen_agents_generator.py && python langgraph_orchestrator.py
```

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Continue.dev

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ~/.continue/config.json
# –î–æ–±–∞–≤–∏—Ç—å MCP Memory Server context provider
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å slash commands: /agent, /analyze
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è Qdrant
curl http://localhost:6333/healthz

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
python langgraph_orchestrator.py  # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
# - RAG latency: <10ms
# - Routing latency: ~5ms
# - Inference latency: ~500ms (Qwen3.5-35B)
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: Bridge Agent (Qwen3.5-35B)
- **–í–µ—Ä—Å–∏—è**: 1.0
- **–î–∞—Ç–∞**: 2024
- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: `/Users/nearbe/repositories/Chat`

---

**üéâ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ production deployment –Ω–∞ Poring (M4 Max 128GB)!** üöÄ
