# Типичные причины отклонения фич

## Обзор

Этот документ описывает типичные причины, по которым фича может быть отклонена, и как их избежать.

> **⚠️ Важно**: Проект разрабатывается **командой AI-агентов**. При оценке причин отклонения учитывай:
> - Все анализы выполняются AI-агентами
> - Процессы: scripts check, ship, code review (SwiftLint)
> - Тестирование: Swift Testing + XCTest + SnapshotTesting
> - Покрытие: 100%

## Категории отклонения

### 1. Технические причины

#### 1.1 Архитектурная несовместимость

**Признаки:**

- Фича требует значительных изменений в архитектуре
- Конфликтует с существующими паттернами
- Нарушает принципы MVVM

**Пример:**
"Добавить real-time коллаборацию в чате" - требует WebSocket сервер

**Решение:**

- Использовать существующую архитектуру
- Предложить упрощенную альтернативу

#### 1.2 Техническая невозможность

**Признаки:**

- Требует API/функциональности, недоступной на iOS
- Зависит от deprecated технологий

**Пример:**
"Фоновое скачивание файлов без ограничений" - iOS не позволяет

**Решение:**

- Предложить доступную альтернативу

#### 1.3 Performance проблемы

**Признаки:**

- Значительное влияние на startup time
- Memory leak
- Замедление UI

**Пример:**
"Автозагрузка всех медиафайлов" - убивает performance

**Решение:**

- Lazy loading
- Кэширование
- Пагинация

### 2. Безопасность

#### 2.1 Уязвимости

**Признаки:**

- Передача данных без шифрования
- Хранение чувствительных данных в открытом виде
- Отсутствие валидации ввода

**Пример:**
"Сохранять токены в UserDefaults" - небезопасно

**Решение:**

- Использовать Keychain
- Шифрование

#### 2.2 Нарушение privacy

**Признаки:**

- Сбор данных без согласия
- Доступ к данным не по назначению

**Пример:**
"Отслеживать активность пользователя в фоне"

**Решение:**

- Следовать Apple Privacy Policy
- Явное согласие

### 3. User Experience

#### 3.1 Сложность UI

**Признаки:**

- Слишком много действий для простой задачи
- Неинтуитивный интерфейс

**Пример:**
"10-шаговый процесс отправки сообщения"

**Решение:**

- Упростить до 1-2 шагов

#### 3.2 Нарушение UX стандартов

**Признаки:**

- Не соответствует iOS Human Interface Guidelines
- Необычные паттерны взаимодействия

**Решение:**

- Следовать HIG
- Использовать стандартные компоненты

### 4. Бизнес причины

#### 4.1 Низкий ROI

**Признаки:**

- Большие затраты на реализацию
- Мало пользователей оценят
- Не решает реальную проблему

**Пример:**
"Поддержка 50 языков сразу" - дорого, мало нужно

**Решение:**

- MVP с 2-3 языками
- Приоритизация по usage data

#### 4.2 Не в product vision

**Признаки:**

- Не соответствует roadmap
- Не решает целевую проблему

**Пример:**
"Добавить игры в приложение" - не про чат с LLM

**Решение:**

- Объяснить alignment с vision

#### 4.3 Конкурентные причины

**Признаки:**

- Уже есть в конкурирующих приложениях
- Не дает конкурентного преимущества

### 5. Ресурсные причины

#### 5.1 Недостаток ресурсов

**Признаки:**

- Требует больше времени, чем доступно
- Нужны специалисты, которых нет в команде

**Пример:**
"WebRTC видеозвонки" - нужен спец по VoIP

**Решение:**

- Spike для оценки
- Phase реализация

#### 5.2 Technical Debt

**Признаки:**

- Требует рефакторинга существующего кода
- Добавляет сложность без пользы

**Пример:**
"Новая система навигации" - старый код не готов

**Решение:**

- Сначала technical debt

### 6. Platform причины

#### 6.1 Apple Review

**Признаки:**

- Нарушает App Store Guidelines
- Может быть отклонено при публикации

**Пример:**
"Автоматическая подписка без явного подтверждения"

**Решение:**

- Проверить Guidelines заранее

#### 6.2 Ограничения iOS

**Признаки:**

- Требует functionality, заблокированного Apple
- Background processing limitations

**Пример:**
"Постоянный мониторинг местоположения"

**Решение:**

- Использовать допустимые API

## Матрица решений

| Причина           | Рекомендуемое действие           |
|-------------------|----------------------------------|
| Архитектура       | Предложить MVP или фазирование   |
| Performance       | Добавить оптимизацию в план      |
| Безопасность      | Использовать стандартные решения |
| ROI низкий        | Перенести на backlog             |
| Конфликт с vision | Пересмотреть roadmap             |
| Ресурсы           | Разбить на этапы                 |
| Apple Review      | Предварительная консультация     |

## Anti-patterns отклонения

### Не говорите просто "нет"

**Плохо:**
"Это невозможно сделать"

**Хорошо:**
"Технически возможно, но требует X. Альтернатива - Y"

### Не отклоняйте без альтернатив

**Плохо:**
"Эта фича не нужна"

**Хорошо:**
"Эта фича требует много ресурсов. Предлагаю упрощенную версию X"

### Документируйте решение

Всегда записывайте:

- Почему отклонено
- Какие альтернативы предложены
- При каких условиях можно вернуться к вопросу
