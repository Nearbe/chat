# Инструкции для работы с проектом Chat

## Основные принципы
1. **Язык документации**: Все комментарии в коде, KDoc и описания коммитов должны быть на **русском языке**.
2. **Стиль кода**: 
   - Используйте Swift-стандарты (CamelCase для типов и свойств).
   - Обязательно добавляйте Docstrings (///) для всех публичных методов, структур и классов.
   - Разделяйте код на логические блоки с помощью `// MARK: -`.
3. **Архитектура**: 
   - Проект использует MVVM + SwiftData.
   - Сетевой слой реализован через `HTTPClient` и `NetworkService`.
   - Для работы со стримингом используется `SSEParser`.

## Работа с API LM Studio
- Используйте v1 API LM Studio.
- Модели находятся в `Models/LMStudio/`.
- Базовый URL и таймауты хранятся в `AppConfig`.

## Авторизация
- Авторизация привязана к устройству через `DeviceConfiguration` и `DeviceIdentity`.
- Токены хранятся только в Keychain через `KeychainHelper`.
- Не сохраняйте секреты в `UserDefaults`.

## Проверка работоспособности
Для проверки работоспособности проекта выполните следующие шаги:

1. **Генерация и сборка проекта**:
   Проект должен собираться для реального устройства **iPhone 16 Pro Max**. Для этого используйте скрипт деплоя, который автоматически сгенерирует `.xcodeproj` и соберет приложение:
   ```bash
   chmod +x deploy.sh
   ./deploy.sh
   ```

2. **Ручная сборка** (если проект уже сгенерирован):
   ```bash
   xcodebuild -project Chat.xcodeproj -scheme Chat -configuration Release -destination "platform=iOS,name=iPhone 16 Pro Max" build
   ```

## Тестирование и деплой
1. **Проверка сборки**: Перед завершением работы обязательно проверьте, собирается ли проект. Если возникли ошибки компиляции, исправьте их.
2. **Инструменты**:
   - Для деплоя на устройство (iPhone 16 Pro Max) используется `deploy.sh`. Он автоматически запускает XcodeGen для генерации проекта.
3. **Рабочий процесс**: После внесения изменений и успешной проверки сборки:
   - Сделайте коммит и пуш изменений.
   - Выполните скрипт деплоя (`./deploy.sh`).
4. Всегда проверяйте компиляцию перед сабмитом.
## Поддержание актуальности (Maintenance)
**Критическое правило для ИИ**: При любых изменениях в структуре проекта, ключевых компонентах или архитектуре, вы ОБЯЗАНЫ проверить и при необходимости обновить следующие файлы:
1. `.junie/context.json` — техническая карта проекта.
2. `GUIDELINES.md` — общее руководство.
3. `.junie/instructions.md` — специфические инструкции.
Информационная связность — залог корректной работы будущих сессий.
## Особенности UI
- Используйте дизайн-систему из папки `Design/` (`AppColors`, `AppSpacing`, `AppTypography`).
- Избегайте "магических чисел" в отступах и цветах.
- Используйте модификаторы из `Typography.swift` и `Spacing.swift` для единообразия.
